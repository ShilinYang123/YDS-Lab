# YDS AI 公司建设与项目实施系统配置
# 版本: V3.0-Trae适配版
system:
  name: "YDS AI Virtual Meeting System"
  version: "3.0.0"
  environment: "production"
  debug: false

# 权限与访问控制
rbac:
  jwt:
    secret_key: "yds-ai-jwt-secret-2024"
    expiration_hours: 24
    algorithm: "HS256"
  
  default_roles:
    - name: "CEO"
      permissions: ["*"]
      level: "executive"
    - name: "CFO" 
      permissions: ["meeting.*", "document.financial.*", "vote.*"]
      level: "executive"
    - name: "CTO"
      permissions: ["meeting.*", "document.technical.*", "system.*"]
      level: "executive"
    - name: "项目协调员"
      permissions: ["meeting.create", "meeting.manage", "document.project.*"]
      level: "manager"
    - name: "前端开发"
      permissions: ["meeting.join", "document.frontend.*"]
      level: "developer"
    - name: "后端开发"
      permissions: ["meeting.join", "document.backend.*"]
      level: "developer"
    - name: "会议秘书"
      permissions: ["meeting.record", "document.meeting.*"]
      level: "assistant"

# 文档共享治理
document_governance:
  base_path: "S:/YDS-Lab"
  
  directory_rules:
    # 战略规划文档
    - path: "01-struc/docs/YDS-AI-战略规划"
      category: "strategic"
      access_level: "executive"
      allowed_roles: ["CEO", "CFO", "CTO"]
      operations: ["read", "write"]
    
    # 项目文档
    - path: "01-struc/Agents/07-marketing_director/Task"
      category: "project"
      access_level: "manager"
      allowed_roles: ["项目协调员", "前端开发", "后端开发"]
      operations: ["read", "write"]
    
    # 会议记录
    - path: "01-struc/docs/meetings"
      category: "meeting"
      access_level: "internal"
      allowed_roles: ["*"]
      operations: ["read"]
    
    # 技术文档
    - path: "tools"
      category: "technical"
      access_level: "developer"
      allowed_roles: ["CTO", "前端开发", "后端开发"]
      operations: ["read", "write"]
    
    # 财务文档
    - path: "01-struc/02-finance"
      category: "financial"
      access_level: "confidential"
      allowed_roles: ["CEO", "CFO"]
      operations: ["read", "write"]

# 会议分级配置
meeting_levels:
  A级会议:
    description: "战略决策会议"
    max_participants: 20
    max_duration_minutes: 180
    required_quorum: 0.75
    voting_threshold: 0.75
    required_roles: ["CEO"]
    optional_roles: ["CFO", "CTO"]
    agenda_templates: ["strategic_planning", "budget_approval", "major_decisions"]
    
  B级会议:
    description: "业务执行会议"
    max_participants: 10
    max_duration_minutes: 120
    required_quorum: 0.6
    voting_threshold: 0.6
    required_roles: ["项目协调员"]
    optional_roles: ["前端开发", "后端开发"]
    agenda_templates: ["project_review", "task_assignment", "progress_update"]
    
  C级会议:
    description: "日常沟通会议"
    max_participants: 5
    max_duration_minutes: 60
    required_quorum: 0.5
    voting_threshold: 0.5
    required_roles: []
    optional_roles: ["*"]
    agenda_templates: ["daily_standup", "technical_discussion", "quick_sync"]

# 语音服务配置
voice_services:
  shimmy:
    enabled: true
    host: "localhost"
    port: 8080
    endpoints:
      stt: "/v1/audio/transcriptions"
      tts: "/v1/audio/speech"
    models:
      stt: ["whisper-large-v3", "whisper-base"]
      tts: ["tts-1", "tts-1-hd"]
    
  ollama:
    enabled: true
    host: "localhost"
    port: 11434
    endpoints:
      generate: "/api/generate"
      chat: "/api/chat"
    models: ["qwen2.5:14b", "llama3.1:8b"]

# MCP消息模型配置
mcp:
  version: "0.1"
  channels:
    - name: "meeting"
      description: "会议相关消息"
    - name: "document"
      description: "文档相关消息"
    - name: "voice"
      description: "语音相关消息"
    - name: "vote"
      description: "投票相关消息"
    - name: "system"
      description: "系统相关消息"
  
  event_types:
    - "message_sent"
    - "meeting_started"
    - "meeting_ended"
    - "document_shared"
    - "vote_created"
    - "vote_cast"
    - "agent_assigned"
    - "agenda_generated"

# 审计配置
audit:
  enabled: true
  # 日志统一至 01-struc/0B-general-manager/logs
  log_file: "01-struc/0B-general-manager/logs/audit_trails/yds_ai_audit.log"
  retention_days: 90
  events:
    - "user_login"
    - "document_access"
    - "meeting_create"
    - "vote_cast"
    - "permission_denied"

# 系统监控
monitoring:
  health_check_interval: 30
  metrics_collection: true
  alert_thresholds:
    cpu_usage: 80
    memory_usage: 85
    disk_usage: 90
    response_time_ms: 5000

# 长记忆配置（LongMemory）
longmemory:
  # 可使用绝对路径或仓库相对路径；meetingroom_server 将解析为绝对路径并确保存储文件存在
  # 注意：为避免与 Trae IDE 的 Memory MCP 的 memory.json 混淆，这里统一使用 lm_records.json
  # 统一长记忆持久化路径至公司级：01-struc/logs/longmemory
  storage_path: "01-struc/logs/longmemory/lm_records.json"