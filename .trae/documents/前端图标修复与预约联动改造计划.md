## 目标与范围
- 修复并标准化所有前端图标的使用与样式，消除运行期导出错误
- 完成会议室预约前端全流程页面与交互开发，打通与后端API联动
- 执行端到端UI联调与专项用户体验优化，形成可验收的测试报告

## 技术策略
- 图标库统一：采用已在项目中使用的 `lucide-react`，移除或替换 `@heroicons/react` 问题图标（如 CurrencyYuanIcon）
- 组件样式：使用 Tailwind CSS 统一图标尺寸（如 `h-4 w-4`）、颜色（如 `text-muted-foreground`）、对齐与间距
- 预约联动：在前端 `store` 层新增预订相关方法（获取/创建/取消），页面与组件以受控表单 + 乐观/保守更新相结合
- 测试框架：前端引入 Vitest + Testing Library 进行单元/组件测试；E2E 使用 Playwright 覆盖关键业务流（仅在您确认后添加依赖）

## 实施步骤
### 步骤1：图标问题修复与标准化
1. 全局扫描图标使用，定位 `@heroicons/react` 的不合法导出与错误引用
2. 将相关图标统一替换为 `lucide-react` 对等图标（如 `Banknote`/`DollarSign` 等）；校正 import 路径
3. 统一图标样式：尺寸、颜色、间距、对齐；抽象通用 `Icon` 适配层（可选）
4. 响应式与高清屏检查：确保不同分辨率下显示清晰（Retina/缩放场景）
5. 验证清单：页面级巡检 + 组件级快照测试

### 步骤2：预约前端联动页面开发
1. Store层：在 `meetingRoomStore` 增加 `fetchBookings(roomId) / createBooking(payload) / cancelBooking(roomId, bookingId)`，错误码 400/409/403 映射为用户友好提示
2. 页面与组件：
   - 会议室详情页：完善预约创建表单（主题、时间段、参与人、描述），错误展示与成功反馈
   - 预约列表页：按会议室显示当日与未来预约列表，提供取消操作与空状态提示
   - 统一日期时间选择器与校验逻辑（营业时段、工作日校验的前端提示与引导）
3. 表单校验：必填项校验、时间合法性、邮箱格式校验；错误信息本地化
4. 状态管理：加载态、禁用态、乐观更新（取消预约）与失败回滚

### 步骤3：端到端UI联调
1. 联调场景：
   - 管理员登录 → 创建会议室 → 查看会议室 → 创建预约 → 冲突检测 → 取消预约
   - 普通用户登录 → 预约与取消 → 权限受限操作校验（403）
2. 页面跳转与状态转换：路由守卫、返回导航、成功/失败提示一致性
3. 数据同步：详情页与列表页数据联动；取消后列表刷新与计数更新
4. 与后端API的交互验证：
   - GET `/api/meeting-rooms/:id/bookings`
   - POST `/api/meeting-rooms/:id/bookings`
   - DELETE `/api/meeting-rooms/:roomId/bookings/:bookingId`

### 步骤4：用户体验专项测试与优化
1. 可用性测试：任务驱动的走查（快速完成预约、冲突提示清晰、取消易用）
2. 性能与反馈：Skeleton/Loader/Toast；减少不必要的重渲染与网络请求（去抖/节流）
3. 移动端适配：断点布局（sm/md/lg）、表单输入体验与触控目标尺寸
4. 无障碍与键盘可达性：焦点顺序、ARIA 标签与快捷操作

## 验证与测试
- 单元测试：
  - Store方法：成功/失败/边界（冲突409、权限403、营业时段/工作日错误400）
  - 组件：表单校验与错误提示渲染、按钮禁用与加载态
- E2E测试（Playwright）：
  - 登录 → 预约创建 → 冲突阻止 → 取消预约 → 列表更新
  - 管理员与普通用户差异化流程
- 性能基线：
  - 列表接口响应时间 ≤300ms（本地）
  - 页面首屏交互可用 ≤2s（开发环境）

## 交付内容
- 修复后的前端代码（图标替换与样式统一）
- 预约前端页面与交互（详情页联动 + 列表页 + 取消操作）
- 测试用例与报告：
  - 用例列表、执行结果、缺陷与建议
  - E2E脚本与截图（在您确认添加测试依赖后交付）
- 变更记录：文件与模块清单、主要改动点与理由

## 风险与回滚
- 图标替换对视觉统一性的影响 → 先在开发分支完成对照截图与小步替换
- 新测试依赖引入（Vitest/Playwright） → 若阻碍交付，维持最小依赖集并保留移除回滚方案

## 里程碑
1. D0：图标全量巡检与替换清单；首批修复完成
2. D1：预约前端联动页面开发与联调通过；核心用例跑通
3. D2：端到端UI联调与用户体验优化；测试报告提交

请确认上述计划。一旦确认，我将开始实施并在每个步骤完成后提交对应的测试验证与修改记录。